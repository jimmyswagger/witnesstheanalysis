pass <- read.csv(file="c:/Users/donag/OneDrive/Spreadsheet fun/PA Analytics/PA Template/bodeir/passingbodeir.csv", header=TRUE, sep=";")
attach (pass)


teamAsht<- teamsht%>%group_by(poss) %>% filter(Teamnum == "A")%>%select(Player,poss)
teamAsht

teamAshtA <-dplyr::distinct(teamAsht)


teamAshtA<- teamAshtA %>%group_by(Player)%>%select(Player,poss)%>%summarize(count=n()) 

teamAshtA


ggplot(teamAshtA , aes(x = Player, y = count)) +
  geom_bar(stat = "identity", 
           fill = "lightgreen",    
           width = .5) +  
geom_text(aes(label =count, vjust = 0), size = 8,colour ="black") +
scale_x_continuous("Player", labels = as.character(Player), breaks = Player)  + 
ylab("Shot involvements") +
theme(legend.position="none") +
 theme_classic()




pass <- read.csv(file="c:/Users/donag/OneDrive/Spreadsheet fun/PA Analytics/PA Template/bodeir/passingbodeir.csv", header=TRUE, sep=";")
attach (pass)

pass <- pass%>%filter(Teamnum == "B")

pass <- pass[pass$possno!="0", ]
pass <- pass[pass$phaseno!="0", ]

#id poss with shots
pashscr <- pass%>%group_by(Team, Action) %>% filter(main  == "Shot Op Oc"|main =="Shot Rs Oc")

#Pulls out all of the poss
teamsht <- subset(pass,poss%in%pashscr$poss)


teamBsht<- teamsht%>%group_by(poss) %>% filter(Teamnum == "B")%>%select(Player,poss)
teamBsht

teamBshtB <-dplyr::distinct(teamBsht)


teamBshtB<- teamBshtB %>%group_by(Player)%>%select(Player,poss)%>%summarize(count=n()) 

teamBshtB


ggplot(teamBshtB , aes(x = Player, y = count)) +
  geom_bar(stat = "identity", 
           fill = "lightgreen",    
           width = .5) +  
geom_text(aes(label =count, vjust = 0), size = 8,colour ="black") +
scale_x_continuous("Player", labels = as.character(Player), breaks = Player)  + 
ylab("Shot involvements") +
theme(legend.position="none") +
 theme_classic()

pass <- read.csv(file="c:/Users/donag/OneDrive/Spreadsheet fun/PA Analytics/PA Template/bodeir/passingbodeir.csv", header=TRUE, sep=";")
attach (pass)

pass <- pass%>%filter(Teamnum == "A")

pass <- pass[pass$possno!="0", ]
pass <- pass[pass$phaseno!="0", ]


teamAplyrpossns <- pass%>%group_by(Player, poss) %>% filter(Teamnum == "A", main == "PW"| main == "Ko Rec"| main == "Rec Op"| main == "Rec Rs"|main == "Pass Rs"|main == "Ko"|main == "Shot Rs")%>%select(Player, poss)
teamAplyr <-dplyr::distinct(teamAplyrpossns) 

teamAplyr <-teamAplyr%>%group_by(Player)%>%select(Player,poss)%>%summarize(count=n()) 




pass <- read.csv(file="c:/Users/donag/OneDrive/Spreadsheet fun/PA Analytics/PA Template/bodeir/passingbodeir.csv", header=TRUE, sep=";")
attach (pass)

pass <- pass%>%filter(Teamnum == "A")

pass <- pass[pass$possno!="0", ]
pass <- pass[pass$phaseno!="0", ]


#id poss with shots
pashscr <- pass%>%group_by(Team, Action) %>% filter(subset  == "Scr Op"|subset =="Scr Rs")

#Pulls out all of the poss
teamscr <- subset(pass,poss%in%pashscr$poss)

#6Player Score Link - By vop
plyrscrinv <- teamscr%>%group_by(Player, poss) %>% filter(main == "PW"| main == "Ko Rec"| main == "Rec Op"| main == "Rec Rs"|main == "Pass Rs"|main == "Ko"|main == "Shot Rs")%>%select(Player, poss)

teamAscrA <-dplyr::distinct(plyrscrinv)

teamAscrA<- teamAscrA %>%group_by(Player)%>%select(Player,poss)%>%summarize(count=n()) 