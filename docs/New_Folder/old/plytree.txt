pass <- read.csv(file="c:/Users/donag/OneDrive/Spreadsheet fun/PA Analytics/PA Template/bodeir/passingbodeir.csv", header=TRUE, sep=";")
attach (pass)

position  <- read.csv(file="c:/Users/donag/OneDrive/Spreadsheet fun/PA Analytics/PA Template/bodeir/positionbodeir.csv", header=TRUE, sep=";")
attach (position)

posname <- position %>%filter(Teamnum == "A")%>%select(ply, name, Player)%>% arrange(ply)
posname

#remove last row change -1 to how many you want to remove
teamA <-slice(posname, 1:(n()-1))


plyA <- pass%>%group_by(Player)%>% filter(Teamnum == "A", main == "PW"|main=="Rec Op"|main == "Rec Rs")%>%summarize(count=n())

plyA

ply <- bind_cols(teamA,plyA)

plys = ply %>% 
   unite(combined, Player, count, sep = " ", remove = FALSE)

plys


treemap(dtf = plys,
        index=c("combined"),
        vSize="count",
        vColor="count",
        palette="Spectral",
        type="value",
        border.col=c("grey70", "grey90"),
        fontsize.title = 36,
        algorithm="pivotSize",
        title ="On Ball Possessions",
        title.legend="Possessions",
        fontsize.labels= 25)




